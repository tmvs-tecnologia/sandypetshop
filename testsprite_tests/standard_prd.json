{
  "meta": {
    "project": "Sandy's Pet Shop v3",
    "date": "2025-11-04",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Sandy's Pet Shop v3 is a comprehensive web application designed to manage a modern pet shop's services including appointment scheduling, recurring clients, mobile services, daycare, and pet hotel. Built with React, TypeScript, and Supabase, it aims to provide an intuitive and efficient user experience for both customers and administrators.",
  "core_goals": [
    "Automate and manage full appointment scheduling with capacity control and pricing based on pet weight.",
    "Support management of recurring monthly clients with automated future scheduling and payment tracking.",
    "Expand service offerings to include mobile pet services, daycare, and hotel pet functionalities.",
    "Optimize operational efficiency by reducing manual work and providing detailed management dashboards."
  ],
  "key_features": [
    "Complete scheduling system covering Banho & Tosa, Pet Móvel, Hotel Pet, and Creche Pet services.",
    "Mobile pet services with specific scheduling and address management for condominiums.",
    "Subscription system for monthly clients with various recurrence types and discounts.",
    "Detailed daycare service enrollment capturing pet and owner information and behavior.",
    "Pet hotel service management including check-in/out, additional services, and digital authorizations.",
    "Administrative panel with dashboards, scheduling management, client control, and reporting.",
    "PWA capabilities with offline support and installable app features.",
    "Integration with Supabase for authentication, database, and notifications.",
    "Business validations for scheduling times, capacity limits, and pet weight constraints."
  ],
  "user_flow_summary": [
    "Customers select service type, date/time, pet details, optional extra services, and confirm appointment through an intuitive single-page app.",
    "Administrators log into a management panel to view dashboards, manage appointments, clients, monthly subscriptions, and generate reports.",
    "Staff access quick views of their daily schedules and service statuses to efficiently execute tasks.",
    "Mobile and desktop responsive design ensures smooth usage across devices with dedicated modals for service selections and confirmations."
  ],
  "validation_criteria": [
    "System enforces a maximum of two simultaneous appointments per time slot and validates service availability within operational hours (9am-11am, 1pm-5pm).",
    "Pricing adjusts correctly based on pet weight and selected additional services, with restrictions honored for certain services.",
    "Data inputs follow Brazilian formats for dates, phone numbers, and currency, validated on frontend and backend.",
    "Authentication is secured via Supabase with session and access control aligned to user roles.",
    "System prevents scheduling conflicts and offline caching ensures app availability through PWA setup."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Supabase (Postgres)",
      "PWA (Service Worker)",
      "Node.js"
    ],
    "features": [
      {
        "name": "External Scheduling Form",
        "description": "Single-page app flow in App.tsx handling appointment creation for Banho & Tosa, Pet Móvel, Hotel Pet, and Creche Pet; integrates with Supabase via supabaseClient.ts.",
        "files": [
          "App.tsx",
          "index.tsx",
          "supabaseClient.ts",
          "types.ts",
          "constants.ts"
        ]
      },
      {
        "name": "Appointment Modals and Actions",
        "description": "UI components for selecting actions and extra services during scheduling.",
        "files": [
          "src/ActionChooserModal.tsx",
          "ExtraServicesModal.tsx",
          "src/ActionMenu.tsx"
        ]
      },
      {
        "name": "PWA & Static Assets",
        "description": "Service worker, manifest and static assets to support installable app and offline caching.",
        "files": [
          "sw.js",
          "manifest.json",
          "index.html",
          "generated-icon.png"
        ]
      },
      {
        "name": "Build & Dev Config",
        "description": "Vite configuration, TypeScript config and environment variables.",
        "files": [
          "vite.config.ts",
          "tsconfig.json",
          ".env",
          "package.json",
          "package-lock.json"
        ]
      },
      {
        "name": "Supabase Schema Snapshot",
        "description": "Local snapshot of Supabase table definitions used to align payloads.",
        "files": [
          "supabase_schema.json"
        ]
      }
    ]
  }
}
