# Redesign da Tela de Edição de Mensalistas

## 1. Objetivo
Substituir a atual tela de edição "genérica" (que exibe JSON bruto) por uma interface moderna, organizada e amigável, alinhada com o novo design dos cards. O foco principal é resolver a exibição do payload de serviços extras, utilizando o componente visual de seleção já criado.

## 2. Nova Arquitetura
Vamos extrair e refatorar o componente `EditMonthlyClientAdvancedModal` (atualmente dentro de `App.tsx`) para um arquivo dedicado: `src/components/EditMonthlyClientModal.tsx`.

### Estrutura do Novo Modal
O layout será dividido em seções claras com Grid System responsivo:

1.  **Cabeçalho**: Título claro e botão de fechar.
2.  **Dados do Pet & Tutor** (Lado a Lado em Desktop):
    *   **Pet**: Foto (com preview), Nome, Raça, Peso (Select).
    *   **Tutor**: Nome, WhatsApp (com formatação automática), Endereço.
3.  **Configuração do Plano**:
    *   **Serviço Principal**: Select (Banho, Banho & Tosa).
    *   **Recorrência**: Select (Semanal, Quinzenal, Mensal) + Dia da Semana/Mês + Horário.
    *   **Financeiro**: Preço Base, Dia de Vencimento, Condomínio.
4.  **Serviços Extras (O ponto principal)**:
    *   Substituição do `textarea` JSON pelo componente **`ExtraServicesSelection`**.
    *   Isso permitirá ativar/desativar serviços e definir preços/quantidades com toggles e inputs visuais.
5.  **Rodapé**: Botões "Cancelar" e "Salvar Alterações" com feedback visual de carregamento.

## 3. Detalhes Técnicos
*   **Reutilização**: Vamos importar `ExtraServicesSelection` para garantir consistência com o modal de criação/inclusão.
*   **Compatibilidade**: O componente fará o parse automático do JSON `extra_services` vindo do banco para o formato esperado pela UI, e vice-versa ao salvar.
*   **Validação**: Máscara para WhatsApp e campos numéricos para preços.

## 4. Plano de Execução
1.  **Criar Componente**: Criar `src/components/EditMonthlyClientModal.tsx` com a nova estrutura de layout e design "Friendly Modernism".
2.  **Integrar Lógica**: Implementar o carregamento de dados do Supabase e a lógica de salvamento.
3.  **Refatorar App.tsx**: Remover a definição antiga do modal em `App.tsx` e substituí-la pela importação do novo componente.
4.  **Verificação**: Testar a edição de um cliente, focando na persistência correta dos serviços extras e na usabilidade.
